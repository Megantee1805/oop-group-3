{% extends 'base.html' %}

{% block title %}Food Journal{% endblock %}

{% block content %}

<div id="colorlib-container">
    <div class="container">
        <div class="box1">&nbsp;&nbsp;&nbsp;&nbsp;
        <div class="row row-pb-md">
            <div class="col-md-12">

                <header id="summary-header">
                    <h1 class="font_color"><b class="center_subtitle">Summary of your stats</b></h1>
                    <h4>Your name: <b> {{ name }} </b> </h4>
                    <h4>Your weight: <b> {{ weight }} kg </b> </h4>
                    <h4>Your height: <b> {{ height }} m </b> </h4>
                    <h4>Your BMI: <b> {{ bmi }} </b> </h4>
                    <h4>Average calories over {{ number_of_days }} days: <b> {{ average_calories }} </b> kcal </h4>
                </header>

                <br>

                <header>
                <h1 class="font_color"><b class="center_subtitle">Food History</b></h1>
                </header>

                {% for date in food_dates %}

                    {% set example_food = date[0] %}
                    {% set example_date = example_food['created'].strftime('%d %B (%A)') %}
                    <h2> {{ example_date }} </h2>

                    {% for food in date %}
                        <article class="food-journal">
                            <header>
                                <div class="food-subsection">
                                    <div id="time-created"> <i>{{ food['created'].strftime('%I:%M %p') }}</i> </div>
                                    <h4 style="margin-bottom: 0"><b>{{ food['food_name'] }}</b></h4>
                                    <div class="about"> {{ food['calories'] }} calories <br> Code: <b> {{ food['food_code'] }} </b> </div>
                                </div>
                            </header>
                        </article>
                    {% if not loop.last %}
                    {% endif %}
                    {% endfor %}

                    <h5>Total calories consumed: <b> {{ calories_list[loop.index - 1] }} kcal </b> </h5>

                    <hr>

                {% if not loop.last %}
                {% endif %}
                {% endfor %}

            </div>
        </div>
        </div>
    </div>

{% endblock %}
